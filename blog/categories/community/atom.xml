<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: community | jasonwryan.com]]></title>
  <link href="http://jasonwryan.github.com/blog/categories/community/atom.xml" rel="self"/>
  <link href="http://jasonwryan.github.com/"/>
  <updated>2013-03-16T11:49:52+13:00</updated>
  <id>http://jasonwryan.github.com/</id>
  <author>
    <name><![CDATA[Jason Ryan]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Forking Arch]]></title>
    <link href="http://jasonwryan.github.com/blog/2013/03/02/forking/"/>
    <updated>2013-03-02T10:04:00+13:00</updated>
    <id>http://jasonwryan.github.com/blog/2013/03/02/forking</id>
    <content type="html"><![CDATA[<p><img class="left" src="http://dl.dropbox.com/u/261312/Blog-images/fork.jpg" title="'Fork on Flickr'" >
Over the last couple of months there have been a number of discussions on the Arch boards
about the
<a href="https://wiki.archlinux.org/index.php/Forum_Etiquette#Arch_Linux_Distribution_Support_ONLY" title="Forum Etiquette">forum policy</a>
of only providing support for Arch Linux, culminating in this
<a href="https://bbs.archlinux.org/viewtopic.php?id=157361" title="Arch Forum thread">long thread about Archbang users</a>
(login required) being denied support and having their threads summarily
closed. As it emerged in the discussion, there seem to be two separate issues
at play here; the question of Arch-derivatives using the Arch brand (logo,
colours and even the forum style sheets), and how the wider community of
GNU/Linux distributions are treated on our boards.</p>

<p>The first issue is relatively simple to address. Allowing derivative
distributions to use the Arch brand is, in my view, a mistake. It dilutes the
value of the Arch “brand” and—as can be seen when people show up having
installed a derivative and thinking they are running Arch—just confuses people.</p>

<p>For some of these derivatives, like Archbang, there is an argument to be made
that once they have completed the installation process, they are in fact
running Arch, albeit an off-the-shelf version. I find this argument to be
specious. All of the derivatives that I have come across, in addition to
“simplifying”<sup>1</sup> the installation process and including <code>X</code> and some
sort of desktop or window manager by default, also make a number of other
system changes that invalidate their claim to being Arch by another name.</p>

<p>See this <a href="http://www.reddit.com/r/archlinux/comments/yj2v5/a_new_guibased_version_of_arch_has_gone_live/c5wc6yo" title="Reddit thread on Manjaro Linux">scathing review of Manjaro</a>
or Allan's <a href="http://allanmcrae.com/2012/12/battle-of-the-arch-spin-offs/" title="Allan McRae's blog">roundup of the Arch Spin-Offs</a>
for the details on the decisions these developers make that mean it is not
practicable to support them on the Arch boards, nor desirable to do so in
future. As a distro, Arch is essentially vanilla packages, pacman and rolling
release, and a base on which
<a href="https://wiki.archlinux.org/index.php/The_Arch_Way#User-centric" title="The Arch Way">you build your preferred system</a>.
Changing two of those three means that you are not running Arch…</p>

<p>That leads in to the second point, which is I'll paraphrase as “well, we are
all Linux users, so everyone should be welcome to ask for support from Arch
users.” It is a fine sentiment, but one that is neither
<a href="http://www.catb.org/esr/faqs/smart-questions.html#forum" title="ESR's seminal document">historically accurate</a>,
nor in the long term interests of Arch. I have harped on in the past about
<a href="http://jasonwryan.com/blog/2012/03/17/vampires/" title="My post on the taxonomy of suckers…">help vampires</a>
and last year I came across the perfect illustration of the unchecked effects
of this phenomena:</p>

<p><blockquote><p>Right now I'd say the bug queues are flooded with bugs that you can't really act on… It's a strain on the project that there are so many users that don't really get it.</p><footer><strong>Alison Randall</strong> <cite>Ubuntu Technical Architect. Linux Format July 2012</cite></footer></blockquote></p>

<p>Your bugtracker becomes essentially unusable. Your forums end up the same way.
No-one ends up getting much in the way of assistance at all, let alone anything
approaching informed help. That may be an inevitable consequence of the
collision between considerable but still finite resources and a philosophy of being
the <acronym title="Operating System">OS</acronym> of the masses; Arch has
nothing like that in terms of resources, and a very different
<a href="https://wiki.archlinux.org/index.php/The_Arch_Way" title="The Arch Way, again…">philosophy</a>.</p>

<p>That philosophy doesn't include anything about shortcuts or commoditized images
for a mass user base. It doesn't mention making the installation and
maintenance of your system completely idiot-proof so as to facilitate a
relentless march to the very top of whatever spurious distro popularity ranking
system you subscribe to. And it certainly doesn't say anything about your
entitlement to immediate and courteous support from the Arch community in the
face of your own inability to reach a minimum level of understanding of what it
is that you have installed on your hard drive.</p>

<p>If you think that you can just skip the whole tiresome
<a href="http://jasonwryan.com/blog/2013/02/08/documentation/" title="Post on documentation">RTFM thing</a>
by downloading a derivative and installing that, how exactly do you expect to be able
to run a rolling release distro that has, on average, a couple of
<a href="https://www.archlinux.org/news/" title="Arch news">significant changes</a> every year?</p>

<p>Sooner or later you are going to have to come to terms with <em>the responsibility</em>
that is an integral part of this type of rolling release and, if you have
installed it yourself, you will be much better placed to be able to build on
that understanding and broaden and deepen your knowledge of your system.</p>

<p>That is ultimately far more satisfying for you, and much more beneficial for
the rest of the community as it means that you will be more able and likely to
contribute back in whatever way that you can; reporting bugs to a functioning
bug tracker, editing the <a href="https://wiki.archlinux.org" title="The finest, actually">fine Wiki</a>,
maintaining packages in <a href="https://aur.archlinux.org" title="Arch User Repository">the AUR</a>,
submitting patches, etc.  Doing all the things that will
sustain Arch and continue to make it an attractive distribution for competent
GNU/Linux users and those that are willing to invest the time to become so.</p>

<h4>Notes</h4>

<ol>
<li>If you have used the Arch install scripts, you would appreciate that it is
not really possible to provide a simpler installation process.</li>
</ol>


<p>Creative Commons licensed image on Flickr by <a href="http://www.flickr.com/photos/pietroizzo/3514191996/">pietroizzo</a></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Read The Fine Manual]]></title>
    <link href="http://jasonwryan.github.com/blog/2013/02/08/documentation/"/>
    <updated>2013-02-08T19:57:00+13:00</updated>
    <id>http://jasonwryan.github.com/blog/2013/02/08/documentation</id>
    <content type="html"><![CDATA[<p><img class="left" src="http://dl.dropbox.com/u/261312/Blog-images/documents.jpg" title="'Documents on Flickr'" >
One of the canards about Free and Open Source Software that is peddled by the unscrupulous
marketers of proprietary software is that their product is superior because, among other
things, the scruffy, sandal-wearing Communists that write and distribute their software
for free do not bother to adequately document that software; thereby placing in jeopardy
the business processes in the enterprise that rely on said software to continue to
profitably grease the wheels of the juggernaut of Capitalism.</p>

<p>At heart, it really is an attempt to paint FOSS as a hobbyist's pursuit, unworthy of
consideration by Fortune 500 <acronym title="Chief Inhibiting Officers">CIOs</acronym>
as it is not in the same league as “professional,” proprietary product. This
<acronym title="Fear, Uncertainty & Doubt">FUD</acronym> is not restricted to
the usual suspects; it has also been raised by other, presumably more
<a href="http://www.osnews.com/story/5180" title="Editorial on OS News">objective commentators</a>:</p>

<p><blockquote><p>Open Source documentation is terrible. There is no kinder way to put it. Even the commercially distributed software in the Open Source world has substandard documentation. (And believe me, as a technical writer coming from the Windows world, when I tell you that the commercial industrial standards are pretty low). Only a bare handful of Open Source software packages have any documentation at all. And out of the few that do, much of it is either unfinished, inaccurate, or outdated. What counts as explanatory text among geeks would bewilder a nuclear physicist, even a sober one.</p><footer><strong>OSNews Editorial, 2003</strong> <cite><a href='http://www.osnews.com/story/5180'>www.osnews.com/story/5180/&hellip;</a></cite></footer></blockquote></p>

<p>A more recent survey, published in 2010, identifed the same issue for businesses,
in slightly less histrionic language:</p>

<p><blockquote><p>The No. 1 reason for not choosing open-source solutions was lack of support followed by poor documentation.</p><footer><strong>Zenoss 2010 Survey</strong> <cite><a href='http://gigaom.com/2010/08/11/enterprise-yeah-were-cool-with-open-source/'>gigaom.com/2010/08/11/&hellip;</a></cite></footer></blockquote></p>

<p>My experience of FOSS documentation, particularly over the last twelve months, has been just the
opposite.</p>

<p>From the middle of 2012 on, I made a couple of significant changes in my computing
environment; I moved from
<a href="https://wiki.archlinux.org/index.php/SysVinit" title="Archwiki page…">SysVinit</a>
to <a href="http://freedesktop.org/wiki/Software/systemd" title="Project web page">systemd</a>,
garden variety to
<a href="http://jasonwryan.com/blog/2013/01/25/uefi/" title="My post on UEFI booting">UEFI booting</a>
and changed my shell from
<a href="http://www.gnu.org/software/bash/" title="GNU Bash page">Bash</a> to
<a href="http://www.zsh.org/" title="Zsh homepage, one of the ugliest on the Web">Zsh</a>.
In each of these cases I found myself having to turn to the documentation the
community has provided in order to understand the implications of the change,
and to familiarise myself with the new tool or approach.</p>

<p>I posted at the time about <a href="http://jasonwryan.com/blog/2012/08/04/systemd/" title="The Leap to systemd">moving to systemd</a>,
and I don't think—in retrospect—I credited Lennart Poettering enough for the series of posts
he wrote detailing the design decisions and implementation of that system;
those posts (at the time 12, now
<a href="http://0pointer.de/blog/projects" title="Lennart Poettering's blog">grown to 20</a>)
are an impressively thorough, and thoughtful, document of the new init system.</p>

<p>Similarly, when I started reading about <acronym title="Universal Extensible Firmware Interface">UEFI</acronym>
booting, I quickly found myself at <a href="http://www.rodsbooks.com/" title="The author of… Just go there!">Rod Smith's site</a>.
Rod has compiled an exhaustive and authoritative resource on <a href="http://www.rodsbooks.com/gdisk/" title="gdisk page">GPT</a>,
EFI Stub loading and UEFI booting in general. Reading through his clear, approachable
documentation made transitioning to UEFI a much simpler process than, given the
inherent complexity in the ecosystem, I would have thought possible.</p>

<p>Then there is Zsh.</p>

<p><blockquote><p>Because zsh contains many features, the zsh manual has been split into a number of sections…</p><footer><strong>zsh manual</strong> <cite><a href='http://linux.die.net/man/1/zsh'>linux.die.net/man/1/zsh/&hellip;</a></cite></footer></blockquote></p>

<p>And goes it on to list those <em>seventeen</em> sections. If you are not a fan of <code>man</code> pages<sup>1</sup>,
there is the
<a href="http://zsh.sourceforge.net/Doc/Release/zsh_toc.html" title="What it says on the tin…">Zsh Documentation</a>,
the <a href="http://zsh.sourceforge.net/Guide/zshguide.html" title="User's Guide">User's Guide</a> and
<a href="http://zshwiki.org/home/" title="Zsh Wiki">wiki</a>. This amounts to a literally staggering
amount of information—it is no wonder that preconfigured zsh systems like
<a href="http://grml.org/zsh/" title="grml homepage">grml</a> are so popular; they provide
relatively simple ingress to the byzantine ways of this powerful shell.</p>

<p>Finally, also last year, I was privileged to chair the judging for the
<a href="http://www.nzosa.org.nz/" title="NZOSA site">2012 New Zealand Open Source Awards</a>.
This exposed me to the amazing contribution
<a href="http://man7.orgi/mtk.index.html" title="Man pages Michael maintains">Michael Kerrisk</a>
has made to GNU/Linux over the last decade. He is the author, or co-author, of
<em>over 300</em> <code>man</code> pages; and these aren't the glamorous, application pages read
by the masses, but the system pages that document the kernel and <code>glibc</code>
<acronym title="Application Program Interface">APIs</acronym>.</p>

<p>All of this suggests to me that the state of documentation for FOSS is
anything but parlous. At every turn over the last year, when I needed to
be able to refer to documentation for a project, there was a surfeit of it.
And I have only touched on what would normally constitute the primary
sources; there is also all of the other community-driven documentation
around projects, like the
<a href="https://wiki.archlinux.org/" title="The BEST GNU/LINUX wiki on the web">Arch Wiki</a>
or the <a href="http://unix.stackexchange.com/" title="Unix &amp; Linux SE">Stack Exchange sites</a>,
the support available on forums, IRC, blog posts, etc.</p>

<p>Compared to the sterile, mostly out-of-date (and expensive) documentation that
accompanies proprietary software, FOSS is an Alexandrine utopia…</p>

<h4>Notes</h4>

<ol>
<li>And, god knows, <em>I am</em>; <code>man</code> pages are a constant source of knowledge
and delight (and pretty much the only way I can contribute to projects that
I am indebted to).</li>
</ol>


<p>Creative Commons image of documents by
<a href="http://www.flickr.com/photos/mwichary/2322639175/">Marcin Wichary</a> on Flickr.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Trolling Arch Linux]]></title>
    <link href="http://jasonwryan.github.com/blog/2012/08/18/trolls/"/>
    <updated>2012-08-18T10:47:00+12:00</updated>
    <id>http://jasonwryan.github.com/blog/2012/08/18/trolls</id>
    <content type="html"><![CDATA[<p><img class="left" src="http://dl.dropbox.com/u/261312/Blog-images/troll.jpg" title="'Troll on Flickr'" >
I posted recently about
<a href="http://jasonwryan.com/blog/2012/08/04/systemd/" title="Some thoughts on moving across…">my experiences shifting to systemd</a>
and how I found it, for all three of my Arch machines, to be a relatively simple and
straightforward process which, in the intervening weeks, has borne out the views of
the developers and other members of the community who have been using it for a longer
period—it works, and works well. At the start of this week, Stéphane Gaudreault
announced on Arch-dev-public the intention to
<a href="http://mailman.archlinux.org/pipermail/arch-dev-public/2012-August/023389.html" title="ML post seeking developer views">replace the original initscripts with systemd</a>.</p>

<p>The reaction by some to this announcement was, to me, quite disappointing. My view of
open source communities is that by participating you are entering into a social contract.
That contract is that, as you are reliant on the goodwill of the wider community it is
incumbent on you to ensure that your overall contribution—in whatever form—brings
more to the community than it takes away. At the very least, you can strive to ensure
that it is a value neutral exchange.</p>

<p>Sadly, for some of the trolls on the <acronym title="Mailing lists">MLs</acronym>, that
is patently not the case. I want to take a closer look at just one of those threads, for two
reasons. First, it is a textbook case of a particularly pernicious troll. And second, in
conjunction with some other factors, it had an especially damaging effect on the wider
community.</p>

<p>The thread in question is on Arch-general, the largest of the mailing lists. It has
the suitably alarmist title
<a href="http://mailman.archlinux.org/pipermail/arch-general/2012-August/029856.html" title="A trolling we will go…">Think twice before moving to systemd</a>.
The troll, who has had only minimal involvement with the Arch community up until this
unfortunate moment starts by framing his “concern”<sup>1</sup>:</p>

<p><blockquote><p>I just became aware that Arch Linux plans to switch to systemd, and this worries me for several reasons.</p></blockquote></p>

<p>Felipe is worried. Ergo, <em>we</em> should be worried. Why should we be worried? Because,
despite the fact that systemd has been discussed and used by Archers since the
<a href="https://bbs.archlinux.org/viewtopic.php?id=96316" title="57 page thread on the Arch BBS">middle of 2010</a>,
it has just come to his attention and now, with the formidable powers of his intellect,
he has detected a disturbance in the force.</p>

<p><blockquote><p>I tried systemd a while ago in a brand new machine with Arch Linux and the boot was <em>much slower</em>. After some exchanges with Lennart Poettering and other people in Google+[1], it became clear I was on my own. Eventually I found the culprit: Fedora uses CONFIG_HZ_1000, and Arch Linux uses CONFIG_HZ_300. It became clear to me that systemd was not ready for prime time, it wasn't thoroughly tested in a lot of machines, and if you have problems Lennart Poettering will blame you (PulseAudio sounds familiar?).</p></blockquote></p>

<p>The salient phrases here are “it became clear I was on my own” and the even more telling,
“it became clear to me that systemd was not ready for prime time.” Once I had managed to
wipe away the tears of gratitude that were coursing down my cheeks, I realized that Arch
finally had finally found what it had been missing for all these years: a saviour. We
were going to be OK after all.</p>

<p>Felipe has “found the culprit.” Despite the best efforts of the Arch developers, upstream,
the other distros that have been using it for considerably longer, and the experience of the
<a href="https://bbs.archlinux.org/viewtopic.php?pid=1147676" title="Thread on systemd - one of many">Arch users reported on our boards</a>,
no-one had the heroic ability to see through to the heart of this conundrum and expose
systemd for the fraud that it is.</p>

<p>But our gratitude should be tempered with some shame for we, the Arch community, have let
Felipe down. We haven't lived up to the standards he expects of us. As he gently admonishes us:
“I was expecting more from the Arch Linux community.” Yes, Felipe, and you were right to.
We let you down; can you forgive us?</p>

<p>The thread goes on to generate more than 50 replies. All of them wasted.
His trolling is not interested in facts, in reason or logic; his method of argumentation is
not rational, and he is not interested in working toward an understanding
of the truth; he just wants to be right. At whatever cost to the wider community. These posts,
and trolls in other fora
<a href="https://lkml.org/lkml/2012/4/12/434" title="LKML exchange with Linus Torvalds">like this one</a>,<sup>2</sup>
are really about gratifying Felipe's own voracious appetite for self-aggrandisement. In reality,
of course, it is a stunning illustration of the
<a href="https://secure.wikimedia.org/wikipedia/en/wiki/Dunning%E2%80%93Kruger_effect" title="Wikipedia entry">Dunning-Kruger effect</a>.
It would be pathetic if it were a victimless pursuit; but it is not.</p>

<p>Further down in the thread we see the inevitable frustration of the developer who leads
this work for Arch,
<a href="https://www.archlinux.org/developers/#tomegun" title="Tom's developer profile">Tom Gunderson</a>,
finally <a href="http://mailman.archlinux.org/pipermail/arch-general/2012-August/029933.html" title="Tom's reply quoting Linus">boil over</a>.
This precipitates another thread where Tom announces that he will
<a href="http://mailman.archlinux.org/pipermail/arch-general/2012-August/029960.html" title="Tom's mail to the list">no longer participate in this list</a>.
This is from the developer that has patiently and constructively engaged with Arch users on the
list around this issue for the past several months. On his own time.</p>

<p>That is the impact of trolls like Felipe. That is a direct effect of his selfishness on the
wider community. What has he brought to the community? Dissent, distraction and posturing.
What has he taken away? The ability for all of us to engage with one of the developers
of the software we all use. His presence on the list, and that of a few others,
has been nothing short of corrosive.</p>

<p>And as for the smoking gun, the config setting that no-one was smart enough to
discover? Denis A. Altoé Falqueto went to the trouble to build another kernel
and run a test and, contrary to Felipe who provided no such evidence,
<a href="http://mailman.archlinux.org/pipermail/arch-general/2012-August/030145.html" title="Denis' post">posted the results</a>.
You can guess the outcome.</p>

<h4>Notes</h4>

<ol>
<li>See the <a href="http://www.urbandictionary.com/define.php?term=concern+troll">concern troll</a>.</li>
<li>Read the whole thread to fully understand how obstinance can trump reason… See
also his <a href="http://felipec.wordpress.com/2012/05/26/no-mercurial-branches-are-still-not-better-than-git-ones-response-to-jhws-more-on-mercurial-vs-git-with-graphs/">own blog</a>
where he expresses incredulity that his comments on another blog have been deleted.</li>
</ol>


<p>Creative Commons image of the troll on Flickr by
<a href="http://www.flickr.com/photos/56380734@N05/6937763971/">Comrade Foot</a>.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[The Leap to systemd]]></title>
    <link href="http://jasonwryan.github.com/blog/2012/08/04/systemd/"/>
    <updated>2012-08-04T09:32:00+12:00</updated>
    <id>http://jasonwryan.github.com/blog/2012/08/04/systemd</id>
    <content type="html"><![CDATA[<p><img class="left" src="http://dl.dropbox.com/u/261312/Blog-images/leap.jpg" title="Leap image on Flickr" >
I posted a couple of weeks ago about the impact of some of the current
<a href="http://jasonwryan.com/blog/2012/07/19/breakage/" title="Post on the glibc change">changes to Arch Linux</a>.
There seems to be quite a bit of it about, because in conjunction with the move from
<span class="file">/lib</span> to <span class="file">/usr/lib</span>—and motivated by the same
overarching shifts in the other distributions—the other major change making its way through
the Arch community is the move to
<a href="http://freedesktop.org/wiki/Software/systemd" title="Project page">systemd</a>. This change, however, has
been more controversial because it marks a shift away from Arch's central configuration
file, <a href="https://wiki.archlinux.org/index.php/Rc.conf" title="Arch wiki entry on rc.conf">/etc/rc.conf</a>;
a move that has disconcerted a number of people.</p>

<p>I'm not going to get into whether or not this move is consistent with
<a href="https://wiki.archlinux.org/index.php/The_Arch_Way" title="Wiki entry">The Arch Way</a>, because that has
been thrashed over extensively on the
<a href="http://mailman.archlinux.org/pipermail/arch-dev-public/2012-July/023283.html" title="ML thread on rc.conf">mailing</a>
<a href="http://mailman.archlinux.org/pipermail/arch-dev-public/2012-July/023258.html" title="And another one…">lists</a>,
but also—and more importantly—because Arch is a rolling release, which means change is <em>inevitable</em>.
What is more, after watching all the back and forth on the <acronym title="Mailing lists">ML</acronym>
and on the <a href="https://bbs.archlinux.org/viewtopic.php?id=96316&amp;p=1" title="Arch BBS thread on systemd">boards</a>, I am convinced that the
<a href="http://www.archlinux.org/developers/#tomegun" title="Tom Gunderson">developer overseeing this shift</a>
both knows what he is doing and is acting in the best interests of Arch.</p>

<p>This view has been validated by my experience of shifting to systemd on my machines.</p>

<p>When the new initscripts package was pushed to [testing] in the middle of last month,
I stripped out all of the redundant options in <span class="file">/etc/rc.conf</span>
and took the ten minutes or so to read about and then create the new files. I then spent some
time reading up on systemd, principally
<a href="http://0pointer.de/blog/projects/systemd-for-admins-1.html" title="One of TWELVE…">Lennart Poettering's series of posts</a>,
the <a href="https://wiki.archlinux.org/index.php/Systemd" title="Good, but needing some structure">Arch wiki entry</a>
and the many and various
<a href="http://0pointer.de/public/systemd-man/" title="One for everything">manual pages</a>.</p>

<p>Over the last couple of days, I have migrated all of my machines over to systemd. I found it
to be a very straightforward process. I went for a pure systemd approach, for reasons I will
return to. Essentially, this is how I tackled it.</p>

<p>First, for each machine, I established what daemons were running. I did this by using
<a href="http://pikacode.com/jasonwryan/Veles/file/default/Scripts/daemons.sh" title="Pretty sure it is one of Xyne's">this shell script</a>
and cross checking entries in my <span class="file">/etc/rc.conf</span>. Then
it was just a matter of installing systemd:<sup>1</sup></p>

<p><div class='bogus-wrapper'><notextile><figure class='code'> <div class="highlight"><pre><code class='sh'><span class='line'>sudo pacman -S systemd systemd-sysvcompat systemd-arch-units
</span></code></pre></div></figure></notextile></div></p>

<p>The only outstanding file to be created was <span class="file">/etc/timezone</span>, the
others—all documented in <code>man rc.conf</code>—I had created earlier in the month. Then, with the
list of the services I would need running on each box, I enabled them. I think it is
fair to say that the only thing that is clunky about systemd is the command syntax for
managing units. Repeatedly typing <code>systemctl enable foo.service</code> is as tedious as it is
error prone, so I hacked up a
<a href="http://pikacode.com/jasonwryan/Centurion/file/default/Scripts/sysd" title="sysd - *so* much easier">wrapper script</a>:</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'> <div class="highlight"><pre><code class='sh'><span class='line'>sysd <span class="nb">enable </span>acpid
</span><span class='line'>sysd <span class="nb">enable </span>lvm
</span><span class='line'>etc…
</span></code></pre></div></figure></notextile></div></p>

<p>I also activated some additional gettys, as I like to log into a tmux session in TTY2 when
I don't need or want to start <code>X</code>:</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'> <div class="highlight"><pre><code class='sh'><span class='line'>ln -sf /usr/lib/systemd/system/getty@.service /etc/systemd/system/getty.target.wants/getty@tty2.service
</span></code></pre></div></figure></notextile></div></p>

<p>And I misguidedly wrote a couple of custom service files that turned out to be
<a href="https://bbs.archlinux.org/viewtopic.php?id=146207" title="BBS post on said files">completely unnecessary</a>;
and then I was done.</p>

<p>On all three boxes I rebooted and that was it. The only issue I experienced was
the final shutdown after removing initscripts and before booting up with
systemd. After issuing <code>shutdown -r now</code> the process
hung with a message about a missing <span class="file">inittab</span> file.
In retrospect, I should have added <code>init=/bin/systemd</code> to my kernel parameters
and not unistalled instiscripts until I had booted with systemd. This has
now been added to the
<a href="https://wiki.archlinux.org/index.php/Systemd" title="Archwiki systemd page">systemd wiki page</a>.</p>

<p>Overall, though: no real drama, just a blur of text<sup>2</sup> and then the
login prompt. While I haven't seen a dramatic decrease in boot time,
booting does <em>feel</em> a bit snappier and two of my three machines shutdown
markedly more quickly. Consider me sold.</p>

<p>That brings me back to the decision to opt for a pure systemd approach, rather than
hanging on to a completely eviscerated <span class="file">/etc/rc.conf</span>. The
Arch community has been told that the intention is to
<a href="https://bbs.archlinux.org/viewtopic.php?pid=1133957#p1133957" title="BBS post by tomegun">support the rc.conf format forever</a>;
I can't help but think this is a mistake. In the same way that
<a href="https://wiki.archlinux.org/index.php/Pacman#Partial_upgrades_are_unsupported" title="Pacman entry on Arch Wiki">partial upgrades are unsupported</a>,
I think that systemd is Arch's inevitable future and the community should be encouraged to accept that, <code>Syu</code> and
move on…</p>

<p>Having said that, I appreciate the consideration shown by the developers in wanting to assure
people that their choice would continue to be catered for; and perhaps, over time, people still
using initscripts will be regarded with the same sense of wry amusement as those who still show
up from time to time with <code>hal</code> in their <code>DAEMONS</code> line.</p>

<h3>Update 4/8/12</h3>

<p>Tom Gunderson, the developer who looks after this part of Arch, has clarified the
comment about the long term support for initscripts. As comments are hosted on
a third-party paltform, I thought that it should be included in the body of the
post.</p>

<p><blockquote><p>Just a clarification: regarding the (probably very unwise) promise of "supporting &lt;span="file">rc.conf</span> forever", the intended meaning was that initscripts will support the syntax, not that initscripts themselves will always stay around (nor that systemd will gain support for the syntax in case initscripts is dropped).</p></p><p><p>At the moment systemd <strong>does</strong> support <span class="file">rc.conf</span> (when installed in conjunction with initscripts), but this is meant as a transitional measure only, and will likely go away eventually (though probably not soon).</p></blockquote></p>

<h4>Notes</h4>

<ol>
<li>Note this approach will <em>remove</em> sysvinit and initscripts and <code>mv /etc/rc.conf{,.pacsave}</code>.</li>
<li>Make sure you remove <code>quiet</code> from your kernel parameters for your first systemd
boot so you can see that everything starts correctly…</li>
</ol>


<p>Creative commons image on Flickr by
<a href="http://www.flickr.com/photos/sovietuk/486119799/" title="leap by rick harrison">Tricky</a></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[The Myth of Breakage]]></title>
    <link href="http://jasonwryan.github.com/blog/2012/07/19/breakage/"/>
    <updated>2012-07-19T19:23:00+12:00</updated>
    <id>http://jasonwryan.github.com/blog/2012/07/19/breakage</id>
    <content type="html"><![CDATA[<p><img class="left" src="https://dl.dropbox.com/u/261312/Blog-images/broken.jpg" title="Image of breakage on Flickr" >
Breakage is one of the memes of the Arch Linux community; it is referenced frequently on the
<a href="https://bbs.archlinux.org/" title="Arch Linux BBS">Arch boards</a> and in the various
<a href="https://wiki.archlinux.org/index.php/IRC_Channels" title="Wiki page listing channels">IRC channels</a>.
It doesn't take newcomers long to realize that, whether something is actually broken or not,
there is always
<a href="http://allanmcrae.com/category/arch-linux/" title="Allan's Blog">someone they can blame</a>.<sup>1</sup></p>

<p>My experience of Arch, over the last three and a bit years, is quite the opposite. I have yet to
experience anything that would qualify as breakage. Sure, there have been bugs, mostly upstream,
and the more frequent moments where I haven't been as diligent as I should, but not once have I
had a machine that was unbootable or otherwise unusable. Arch has, on both my home and work
machines, been incredibly stable and reliable.</p>

<p>For a number of Arch Linux users, however, that was not their experience over the last week when
<a href="http://www.archlinux.org/news/the-lib-directory-becomes-a-symlink/" title="News item on the move">/lib was moved to /usr/lib</a>.
The volume of people on the boards and on IRC reporting unbootable or unusable systems was
remarkable. Remarkable because, despite the fact that the
<a href="http://www.archlinux.org/news/the-lib-directory-becomes-a-symlink/" title="Once more, just in case…">news item</a>, the
<a href="http://www.archlinux.org/news/the-lib-directory-becomes-a-symlink/" title="Arch wiki page on the change">wiki page</a>,
and the <a href="http://mailman.archlinux.org/pipermail/arch-announce/2012-July/000317.html" title="Mail archive">email to arch-announce</a>
all <em>explicitly</em> warned people not to use the <code>--force</code> option,<sup>2</sup> so many did.</p>

<p><span class='pullquote-right' data-pullquote='90% of the breakage was because people either didn&#8217;t see, or disregarded, that advice. '>
Sadly, these red-boxed warnings were apparently not enough.
90% of the breakage was because people either didn't see, or disregarded, that advice.
The remaining 10% were either in a hurry and didn't pay close attention to how
to deal with any leftover files in <span class="file">/lib</span> or <code>rm -rf</code>'ed
in the wrong directory.
<a href="http://www.gnu.org/fun/jokes/shit-happens.html" title="GNU Humour…">Accidents happen</a>.
</span></p>

<p>What I am interested in is the people who fell into the much larger category,
and principally those that didn't see any of the communications about this
change in advance of updating and reasoned, based on a recent change that did
<a href="http://www.archlinux.org/news/filesystem-upgrade-manual-intervention-required-1/" title="News item on filesystem upgrade">require the use of --force</a>,
that this was the most expedient way to resolve <code>pacman</code> reporting conflicting
files.</p>

<p>Some context. The <code>glibc</code> update was released to the
<a href="https://wiki.archlinux.org/index.php/Testing#.5Btesting.5D" title="Wiki entry on Testing">[testing] repository</a>
in the first week of July: and there were a couple of long threads<sup>3</sup>
about issues and fixes before it was pushed to [core]. By the time the
package was released for general consumption, it had been tested and the
developers had obviously planned how to make what is a fundamental system
change with a minimal amount of user intervention.  I think that, given the
magnitude of the challenge, they did a superb job.</p>

<p>How then did it go so wrong for so many?<sup>4</sup> To answer that, you have
to consider the nature of Arch. It's <em>not</em> the sort of distribution where you
install it and then just go on your merry way, installing
<a href="http://oswatershed.org/" title="It's SCIENCE, Jim">the least obsolete packages</a>,
revelling in the speed of the package manager and generally being
a 1337 h@x0r…</p>

<p>Successfully running a rolling release like Arch, irrespective of your level of
competence, means staying in touch with what is happening—in
<a href="http://kmkeen.com/pacmatic/" title="Pacman wrapper that pulls news updates">some form or other</a>.
Subscribing to the arch-general <acronym title="Mailing list">ML</acronym>,
visiting the forums, idling in IRC; somehow remaining connected to what is
going on in the community so that you don't blindly update one day and wonder
why your system is broken.</p>

<p>This strikes me as a real strength; by design Arch encourages its users to
participate in the community. Even if you are only lurking, over time you will
inevitably find yourself posting in a thread, responding to an email, editing
the wiki,
<a href="http://jasonwryan.com/blog/2012/03/09/aurphan/" title="Post on aurphan">adopting an orphaned package</a>—increasingly
getting involved and contributing.</p>

<p>This level of involvement is not for everyone. Some may find it onerous or
a waste of their time. That's fine. There are any number of other distros
that do not ask for this level of commitment. The <em>quid pro quo</em> for
running Arch, though, is that you are prepared, in whatever shape or form
best works for you, to give something back; at the very least, that is your
attention.</p>

<h4>Notes</h4>

<ol>
<li>This is, of course, a reference to said Arch meme: Allan is one
of the developers who has contributed an enormous amount to Arch and the fact
that his IRC nick is <code>allanbrokeit</code> is purely coincidental.</li>
<li>At the end of 2011, the short option <code>-f</code>
<a href="http://mailman.archlinux.org/pipermail/pacman-dev/2011-October/014589.html" title="Post to ML anouncing change">was removed</a>
from <code>pacman</code> so “it at least makes people read the word 'force' and maybe they
will have some sense to step back and think about what they are doing first.”</li>
<li><a href="https://bbs.archlinux.org/viewtopic.php?id=144620">https://bbs.archlinux.org/viewtopic.php?id=144620</a> and
<a href="https://bbs.archlinux.org/viewtopic.php?id=144616">https://bbs.archlinux.org/viewtopic.php?id=144616</a></li>
<li>Relatively speaking. In situations like this, the overwhelming amount of traffic
is about what went wrong, not people posting to say they had no difficulties whatsoever…</li>
</ol>


<p>Creative Commons image on Flickr from
<a href="http://www.flickr.com/photos/daviddoctorrose/431786001/" title="Broken keyboard on Flickr">djeucalyptus</a></p>
]]></content>
  </entry>
  
</feed>
