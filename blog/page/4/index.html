
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>jasonwryan.com</title>
  <meta name="author" content="Jason Ryan">

  
  <meta name="description" content="I was fortunate enough to be given a
Raspberry Pi earlier this year
and, naturally enough, have been running
Arch ARM on it over the
last several &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://jasonwryan.github.com/blog/page/4">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="jasonwryan.com" type="application/atom+xml">
  <!-- OpenId login -->
<link rel="openid.server" href="http://openid.claimid.com/server" />
<link rel="openid.delegate" href="http://openid.claimid.com/jasonwryan" />

<!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-907012-2']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">jasonwryan.com</a></h1>
  
    <h2>Miscellaneous ephemera…</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://www.duckduckgo.com/" method="get">
  <fieldset role="search">
    <!-- <input type="hidden" name="q" value="site:jasonwryan.github.com" /> -->
    <input type="hidden" name="sites" value="jasonwryan.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search duckduckgo&hellip;"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Home</a></li>
  <li><a href="/blog/archives">Archives</a></li>
  <li><a href="/contact.html">Contact</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/06/29/raspberry/">RPi Headless Torrent Box</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-06-29T09:40:00+12:00" pubdate data-updated="true">Jun 29<span>th</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><img class="left" src="http://miromiro.com/Blog-images/raspberry-pi-logo.png" title="Raspberry Pi logo" >
I was fortunate enough to be given a
<a href="http://www.raspberrypi.org/" title="Pi homepage">Raspberry Pi</a> earlier this year
and, naturally enough, have been running
<a href="http://archlinuxarm.org/" title="Arch Linux ARM site">Arch ARM</a> on it over the
last several months. Initially, I was at somewhat of a loss as to what to do
with it, so was just (under)using it<sup>1</sup> for a persistent IRC connection.
I have now, with very little effort, set it up as a headless torrent box and it is
working nicely.</p>

<p>As is generally the case, this involved little more than stitching together a
few lightweight tools to accomplish the task. In this case, it is a combination
of
<a href="http://libtorrent.rakshasa.no/" title="rotrrent homepage">rtorrent</a>
(with the canvas-colour patch applied),
<a href="http://jasonwryan.com/blog/categories/surfraw/" title="Posts on surfraw">surfraw</a>
and
<a href="http://w3m.sourceforge.net/" title="w3m homepage">w3m</a> for discovering
torrents,<sup>2</sup>
<a href="http://labs.bittorrent.com/experiments/sync.html" title="Peer to Peer synching">bittorrent sync</a>
and, optionally, a <acronym title="Virtual Private Network">VPN</acronym>.</p>

<p>I use a 16GB <acronym title="Universal Serial Bus">USB</acronym> drive to act as
storage for the device, and mount it at <span class="file">~/Downloads</span>
via <span class="file">/etc/fstab</span>; depending on the size of your
<acronym title="Secure Digital">SD card</acronym>, this may be superfluous.</p>

<p>First a note on building packages; building <em>anything</em> on the Pi—with only
512MB <acronym title="Random Access Memory">RAM</acronym>—is a protracted
and thankless task. So if you intend to do more of this, or do it regularly,
set up
<a href="http://archlinuxarm.org/developers/distcc-cross-compiling" title="Arch ARM instructions">cross-compiling</a>;
you won&#8217;t regret the initial investment.</p>

<p><code>rtorrent</code> is in the ARM repos, but I wanted to patch in colour, so I wrote
<a href="https://gist.github.com/jasonwryan/5794623" title="Gist of the thing…">a PKGBUILD</a>,
based on the package in [community] and
<a href="https://aur.archlinux.org/packages.php?ID=31956" title="Arch User Repository">ashren&#8217;s AUR package</a>.
Once you have rtorrent installed and working, the rest is straightforward.</p>

<p>The default config for w3m is perfectly functional, but can be easily customized
further. The key to this setup is being able to find a torrent and then easily
add it to rtorrent&#8217;s queue.  To do this, I modified the hack that I wrote up
<a href="http://jasonwryan.com/blog/2011/05/05/w3m/" title="Post on yanking URLs in w3m">a couple years back</a>.
Essentially, you use w3m&#8217;s external link function to trigger a script to grab
the magnet link. Like so:</p>

<figure class='code'><figcaption><span>~/.w3m/config </span></figcaption>
 <div class="highlight"><pre><code class='sh'><span class='line'>extbrowser /home/jason/Scripts/magnets %s
</span></code></pre></div></figure>


<p>and the script from the
<a href="http://wiki.rtorrent.org/MagnetUri#Handling_.22magnet:.22_URIs_via_a_bash_script" title="Script for magnet links">rtorrent wiki</a>:</p>

<figure class='code'><figcaption><span>~/Scripts/magnets </span></figcaption>
 <div class="highlight"><pre><code class='sh'><span class='line'><span class="c">#!/bin/bash</span>
</span><span class='line'><span class="nb">cd</span> <span class="nv">$HOME</span>/Downloads/Queue/watch/    <span class="c"># set your watch directory here</span>
</span><span class='line'><span class="o">[[</span> <span class="s2">&quot;$1&quot;</span> <span class="o">=</span>~ <span class="nv">xt</span><span class="o">=</span>urn:btih:<span class="o">([</span>^&amp;/<span class="o">]</span>+<span class="o">)</span> <span class="o">]]</span> <span class="o">||</span> <span class="nb">exit</span>;
</span><span class='line'><span class="nb">echo</span> <span class="s2">&quot;d10:magnet-uri${#1}:${1}e&quot;</span> &gt; <span class="s2">&quot;meta-${BASH_REMATCH[1]}.torrent&quot;</span>
</span></code></pre></div></figure>


<p>Remapping the w3m key to trigger the script to make it more Vim-like:</p>

<figure class='code'><figcaption><span>~/.w3m/keymap </span></figcaption>
 <div class="highlight"><pre><code class='sh'><span class='line'>keymap Y EXTERN_LINK
</span></code></pre></div></figure>


<p>And now hitting <kbd>Shift</kbd><kbd>y</kbd> over a magnet link adds it to your
queue.</p>

<p>The final piece was to ameliorate the step of transferring the completed files
from the Pi, or for allowing me to add torrents remotely. To do this, I used
a <a href="http://jasonwryan.com/blog/2013/03/16/sync/" title="My post on Sync">bittorrent sync</a>
shared directory as <span class="file">~/Downloads</span>. All files are synched
to my desktop as they are downloaded to the Pi. Simple.</p>

<p><img src="http://miromiro.com/Blog-images/rtorrent-2.png" title="'Screenshot of rtorrent in action…'" ></p>

<p>As I mentioned above, you could also use a VPN and, with a service
file, have it connect on boot if you wished to further protect your privacy.</p>

<h4>Notes</h4>

<ol>
<li>This is not to say that I am now using it to it&#8217;s full potential; quite the
opposite. Recommendations or suggestions gratefully received.</li>
<li>Discovery is <em>your</em> business; what you choose to download and share may be the
business of copyright holders…</li>
</ol>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/06/15/asking/">Asking for Help</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-06-15T10:39:00+12:00" pubdate data-updated="true">Jun 15<span>th</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><img class="left" src="http://miromiro.com/Blog-images/bowl.jpg" title="'Flickr image of Begging Bowl'" >
Another great peristaltic movement in Arch&#8217;s rolling release digestive system
happened over the last couple of weeks, the move of all binaries
<a href="https://www.archlinux.org/news/binaries-move-to-usrbin-requiring-update-intervention/" title="Arch News update">to /usr/bin</a>.
This move had been foreshadowed for several months and, despite announcements
on the front page of the Arch website, the mailing lists and the release going
through [testing] and the resulting thread on the forums, there was still a
surprising amount of carnage<sup>1</sup> in it&#8217;s wake.</p>

<p>In the aftermath (although I expect that it will take some months for it to
completely pass through the system), what struck me was not so much the variety
and ingenuity of the ways people had managed to break their installs<sup>2</sup>
as how they approached the community seeking help afterwards.</p>

<p>There are already some fine guides on how to do this, notably
ESR&#8217;s <a href="http://www.catb.org/esr/faqs/smart-questions.html" title="Just read it…">How to ask Questions the Smart Way</a>
and—specifically for Arch—zendeavour&#8217;s
<a href="http://redd.it/tjjwr" title="On Reddit">troubleshooting for newcomers</a>;
this isn&#8217;t an attempt to add or expand on that genre. Rather, it is
a look at a subset of attitudes that some people adopt<sup>3</sup>
as they seek the assistance of the community.</p>

<p>The first is the <strong>blamer</strong>. The proponent of the  “all-guns-blazing” approach.
I&#8217;ll paraphrase, but there are enough examples on the boards to illustrate the
point: “my system can&#8217;t boot, it&#8217;s not my fault and I am here to let you know
that I am unhappy and demand recourse.” This is, unquestionably, the most
puzzling of all the strategies. It is often coupled with the (sadly almost
always empty) threat to abandon the distro and it&#8217;s apparently beleaguered
community.</p>

<p>Puzzling because I have yet to encounter a single situation in life, online
or off, where opening with hostility and blame is an intelligent approach to
seeking assistance. If you are going to adopt this approach, please supersize
to “rage quit” and expend your energy actually delivering on your threat.</p>

<p>The next is the <strong>wheedler</strong>. Less objectionable than the incendiary approach,
it is nonetheless similarly ineffective. Wheedlers are distinguished by
peppering their posts liberally with declarations of their ineptitude and
“noobness”, in the mistaken belief that this will engender a wave of sympathy
prior to soothing hand-holding and spoon-feeding. There is a strong correlation
between this behaviour and the various types of
<a href="http://jasonwryan.com/blog/2012/03/17/vampires/" title="Post on the taxonomy of vampires">help vampirism</a>.</p>

<p>Wheedling won&#8217;t lead to quicker, or more informed, advice and assistance; in
all likelihood it will just discourage others from helping because
they can see that rewarding this sort of behaviour has a longer-term
deleterious impact on the health of the community.</p>

<p>Then there is the <strong>Vulcan</strong>. A curiosity more than an annoyance, these
people seem to inhabit some sort of adolescent fantasy land where the Internet
is a venue for them to revel in their almost superhero-like powers of technical
<em>awesomeness</em>; said powers manifesting to others as a sort of benign
cluelessness.</p>

<p>Their posts are invariably brief and completely devoid of relevant detail to the
point of cryptic because, “hey, we all <em>know</em> what this issue is,” and are
littered with smilies and that stupid emoticon with the sunglasses. Rather than
actually describing their problem, they want people to think that, by a process
of <a href="http://en.memory-alpha.org/wiki/Vulcan_mind_meld" title="There is a Star Trek wiki?">mind-melding</a>,
other “hackers” will intuit the subtle depth and intricacy of the issue and
then type out a detailed step-by-step guide of how to solve it.</p>

<p>Finally, there is the <strong>conspiracist</strong>. These malcontents see every
significant change in Arch as being part of a wider agenda to corrupt the purity
of the UNIX® philosophy. They also tend to blame
<a href="https://en.wikipedia.org/wiki/Lennart_Poettering" title="Lennarts wikipedia page">Lennart Poettering</a>
for <em>everything</em>. These unfortunates are clearly already suffering such mental anguish
trying to reconcile their obsessiveness about the past with a rolling
release that they deserve our pity more than our contempt (but I am equally
happy providing either)…</p>

<p>As I said, these are fortunately just a subset and very much represent the
minority of attitudes.  The vast majority tend to be aware that, at
one time or another, <em>everyone</em> will need some help to solve a problem.
Therefore it is best to approach it in a matter-of-fact way, using the practical
guidance on asking questions on a technical forum, and with a degree of humility
and a willingness to learn from the people who are prepared to share their
knowledge and experience.</p>

<h4>Notes</h4>

<ol>
<li>Where “carnage” should be understood as a minor PEBKAC epidemia…</li>
<li>From shutting down mid-update (because a reboot fixes <em>everything</em>) to
still using <code>consolekit</code>, <code>initscripts</code> and <code>grub-legacy</code>: all deprecated some time
ago.</li>
<li>I resisted linking to specific posts on the boards to provide actual examples,
the more motivated among you will find them without difficulty.</li>
</ol>


<p>Flickr Creative Commons image by
<a href="http://www.flickr.com/photos/buddhist_fox/4795942625/">Buddhist Fox</a>.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/05/25/greader/">Replacing Google Reader</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-05-25T09:10:00+12:00" pubdate data-updated="true">May 25<span>th</span>, 2013</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><img class="left" src="http://miromiro.com/Blog-images/commafeed.png" title="'CommaFeed Logo'" >
I have been using <a href="https://en.wikipedia.org/wiki/Google_reader" title="Wikipedi page">Google Reader</a>
everyday since I first discovered the service over seven years ago. It is my
primary source of news and information and the announcement that Google is, on July 1 this year,
set to <a href="http://googlereader.blogspot.ca/2013/03/powering-down-google-reader.html" title="Official announcemet on Google Blog">shut down Reader</a>
was something considerably more than just an inconvenience for me.</p>

<p>Over the years, I had looked at other <acronym title="Rich Site Summary">RSS</acronym>
readers but, for a variety of reasons, had invariably found that the speed,
simplicity and flexibility that Google Reader offered meant that any dalliances
were unsatisfactory and short-lived. I resigned myself to having to settle for
an inferior alternative, rather than moving to a genuine replacement.</p>

<p>On the recommendation of <a href="https://pinboard.in/" title="Not so-social bookmarking">@pinboard</a>,
I first signed up for a premium account at
<a href="https://www.newsblur.com/" title="NewsBlur website">NewsBlur</a>. It is open source and,
given the recommendation from Maciej<sup>1</sup>, I was hopeful that it would
bridge the gap. Newsblur is a good service (especially considering the rush of
signups in the days after the Google announcement), but it has a couple of
critical weaknesses for me: no search (yes, you read that correctly—there is <em>no
way to search through your feeds</em>) and, less importantly but just as annoying,
occasionally sluggish performance.</p>

<p>After a couple of weeks using NewBlur I happily stumbled across
<a href="https://www.commafeed.com/" title="CommaFeed homepage">CommaFeed</a>, a
Reader clone that emulates the austere minimalism of Google Reader. Apart from
the fact that it is open source, the other aspect that attracted me to it
was the ability to run it on Red Hat&#8217;s Platform as a Service offering,
<a href="http://www.openshift.com/" title="Red Hat PaaS">OpenShift</a>.</p>

<p>The README on the <a href="https://github.com/Athou/commafeed" title="CommaFeed repo">Github repo</a>
explains how to set it all up. Unfortunately, due to an
<a href="https://github.com/Athou/commafeed/issues/91" title="OpenShift fails silently">open issue</a>,
some manual intervention is required, but it is still a very
straightforward and painless process to get your own instance of CommaFeed up
and running.</p>

<p>Creat an OpenShift account, log in and add the JBoss 6.0 application (or
cartridge as it is called on OpenShift) and the MySQL cartridge. Once your setup
is created, add your public <acronym title="Secure Shell">SSH</acronym> key and,
under your <code>My Applications</code> tab, copy down your Git repo address, which will be
of the form:</p>

<figure class='code'> <div class="highlight"><pre><code class='sh'><span class='line'>ssh://76758382475ef809976543@<span class="nv">$appname</span>-<span class="nv">$namespace</span>.rhcloud.com/~/git/feeds.git/
</span></code></pre></div></figure>


<p>Then you need to make a local clone of CommaFeed and push it to the Red Hat
server:</p>

<figure class='code'> <div class="highlight"><pre><code class='sh'><span class='line'>git clone https://github.com/Athou/commafeed.git
</span><span class='line'><span class="nb">cd </span>commafeed
</span><span class='line'><span class="c"># add OpenShift as a repo</span>
</span><span class='line'>git remote add openshift -f ssh://76758382475ef809976543@<span class="nv">$appname</span>-<span class="nv">$namespace</span>.etc…
</span><span class='line'>git merge openshift/master -s recursive -X ours
</span><span class='line'>git push openshift master
</span></code></pre></div></figure>


<p>This will then trigger a series of hooks that build the application and restart
the server. If everything goes well you will see something like:</p>

<figure class='code'> <div class="highlight"><pre><code class='sh'><span class='line'>remote: <span class="o">[</span>INFO<span class="o">]</span> ------------------------------------------------------------------------
</span><span class='line'>remote: <span class="o">[</span>INFO<span class="o">]</span> BUILD SUCCESS
</span><span class='line'>remote: <span class="o">[</span>INFO<span class="o">]</span> ------------------------------------------------------------------------
</span><span class='line'>remote: <span class="o">[</span>INFO<span class="o">]</span> Total <span class="nb">time</span>: 3:18.195s
</span><span class='line'>remote: <span class="o">[</span>INFO<span class="o">]</span> Finished at: Mon May 20 03:21:37 EDT 2013
</span><span class='line'>remote: <span class="o">[</span>INFO<span class="o">]</span> Final Memory: 42M/185M
</span><span class='line'>remote: <span class="o">[</span>INFO<span class="o">]</span> ------------------------------------------------------------------------
</span><span class='line'>remote: Running .openshift/action_hooks/build
</span><span class='line'>remote: Running .openshift/action_hooks/deploy
</span><span class='line'>remote: <span class="nv">hot_deploy_added</span><span class="o">=</span><span class="nb">false</span>
</span><span class='line'>remote: MySQL already running
</span><span class='line'>remote: Found 127.12.712.712:8080 listening port
</span><span class='line'>remote: Done
</span><span class='line'>remote: Running .openshift/action_hooks/post_deploy
</span><span class='line'>To ssh://76758382475ef809976543@<span class="nv">$appname</span>-<span class="nv">$namespace</span>.rhcloud.com/~/git/feeds.git/
</span></code></pre></div></figure>


<p>You now have CommaFeed successfully running on OpenShift. After a couple of
minutes, visit the public <acronym title="Unique Resource Locator">URL</acronym>
and you will be able to login to your CommaFeed instance. Updating your
CommaFeed is as simple as pulling to your local repo, merging and
then pushing to <code>openshift master</code>.</p>

<p>Importing directly from Google Reader still seems broken (I was  getting
errors from builds late this week), but if you import from an existing <code>.opml</code>
or <code>.xml</code> file you will see CommaFeed in all it&#8217;s glory:</p>

<p><img class="left" src="http://miromiro.com/Blog-images/commafeed_screen.png" title="'ComaFeed screenshot'" ></p>

<p>As you can see, it is remarkably similar to the Google Reader interface; a
clean, minimalist design that is focussed—quite rightly—on the content. There
is an option to load your own <code>.css</code> if you want to apply some additional
styling, but for me the base style is just about perfect.</p>

<p>More impressively, in the week or so that I have been using CommaFeed, the
developer,
<a href="https://github.com/Athou" title="Athou on Github">Athou</a>, has been committing
enhancements and bug fixes several times <em>a day</em>; almost every night,
I have pushed changes to OpenShift, reloaded my browser and found a
smoother, enhanced feed reader with additional functionality; it is
literally growing in leaps and bounds, and is a great reminder of the power
of open source<sup>2</sup>.</p>

<p>The performance of OpenShift has also been solid; feeds are delivered
seemingly instantaneously and, apart from the slight lag after restarting
the application, I haven&#8217;t experienced any issues whatsoever in terms
of availability.</p>

<p>There are still a couple of areas where CommaFeed can be improved. Most
notably, there is an open feature request for a
<a href="https://github.com/Athou/commafeed/issues/54" title="Github Issue">mobile friendly CSS</a>
and this is badly needed, the site is pretty much unusable on my phone. With
any luck, some enterprising Android developer will build a CommaFeed app (for
which I would happily pay good money)…</p>

<p>In any event, if you are looking for a Google Reader replacement, try
running CommaFeed (either on your own server or one of Red Hat&#8217;s); for
a project that is only a couple of months old, it has covered a
tremendous amount of ground and will undoubtedly continue to grow
and improve.</p>

<h4>Notes</h4>

<ol>
<li>In conjunction with his great advice about not being a
<a href="http://blog.pinboard.in/2011/12/don_t_be_a_free_user/" title="Pinboard blog">free user</a>.</li>
<li>The <a href="http://feeds-jwr.rhcloud.com/#/feeds/help" title="About and Help page">about page</a>
has a donate button: if you want to support an application which I have no doubt
will soon be even better than Google Reader, you might want to use it.</li>
</ol>

</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/blog/page/5/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/blog/page/3/">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2014/01/20/udev/">Scripting with udev</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/12/28/hostsblock/">Ad Blocking with Hostsblock</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/11/14/api/">BitTorrent Sync&#8217;s API</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/10/28/dismount/">Simple Unmounting</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/09/15/awking/">Managing modules with Awk</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>Pinboard</h1>
  <ul id="pinboard_linkroll">Fetching linkroll&#8230;</ul>
  <p><a href="http://pinboard.in/u:jasonwryan">My Pinboard Bookmarks &raquo;</a></p>
</section>
<script type="text/javascript">
  var linkroll = 'pinboard_linkroll'; //id target for pinboard list
  var pinboard_user = "jasonwryan"; //id target for pinboard list
  var pinboard_count = 3; //id target for pinboard list
  (function(){
    var pinboardInit = document.createElement('script');
    pinboardInit.type = 'text/javascript';
    pinboardInit.async = true;
    pinboardInit.src = '/javascripts/pinboard.js';
    document.getElementsByTagName('head')[0].appendChild(pinboardInit);
  })();
</script>


<section class="lastfm">
<h1>Recently Scrobbled</h1>
<style type="text/css">
  #lastfmList li{ text-align: left; }
</style>
<ul id="lastfmList">
  <li class="loading">Updating tracks&#8230;</li>
</ul>
<p><a href="http://alpha.libre.fm/user/jasonwryan">My tunes on Libre.fm &raquo;</a></p>

<script type="text/javascript">
  $.domReady(function(){
    getLastfmFeed("jasonwryan", 5, "3a19a6604d742024a1331bebb7a68d33");
  });
</script>
<script src="/javascripts/twitter.js" type="text/javascript"> </script>

<script lang="Javascript">
function getLastfmFeed(user,count,api_key) {
  count = parseInt(count, 10);
  $.ajax({
      url: "http://ws.audioscrobbler.com/2.0/?method=user.getrecenttracks&user=" + user + "&limit=" + count + "&api_key=" + api_key
    , type: 'xml'
    , error: function (err) { $('#lastfmList li.loading').addClass('error').text("Last.fm's busted"); }
    , success: function(data) { showLastfmFeed(data); }
  });
}

function showLastfmFeed(xml){
  var tracklist = document.getElementById('lastfmList'),
      content = '',
      i=0;
  
  $(xml.responseXML).find("recenttracks").children().each(function(){
    var artist = $(this).find('artist').text(),
        name = $(this).find('name').text(),
        date = $(this).find('date').text(),
        url = $(this).find('url').text();
    content += '<li id="lastfmItem_'+i+'"><a href="'+ url + '">' + name +'</a> by '+ artist + '<span class="date"> ' + prettyDate(date) + ' ago</span></li>';
    i+=1;
  });

  tracklist.innerHTML = content;
}
</script>
</section>

<section>
<p class="arch"><a href="http://unix.stackexchange.com/users/6761/jasonwryan">
<img src="http://unix.stackexchange.com/users/flair/6761.png" border="0" width="208" height="58" alt="profile for jasonwryan at Unix and Linux, Q&amp;A for users of Linux, FreeBSD and other Un*x-like operating systems." title="profile for jasonwryan at Unix and Linux, Q&amp;A for users of Linux, FreeBSD and other Un*x-like operating systems.">
</a></p>
</section>
<section>
<p class="arch"><a href="https://archlinux.org/" title="Arch Linux"><img src="http://dl.dropbox.com/u/261312/running-on-arch.png" /></a></p>
</section>

  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
All content licensed under <a href="http://creativecommons.org/licenses/by/2.5/" title="Creative Commons by Attribution">Creative Commons</a> 2014 - Jason Ryan    
<span class="credit">This site is powered by <a href="http://vim.org">Vim</a>, <a href="http://octopress.org">Octopress</a> and <a href="http://github.com">Github</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'jasonwryan';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>











</body>
</html>
