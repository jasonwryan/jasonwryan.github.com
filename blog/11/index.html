
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>jasonwryan.com</title>
  <meta name="author" content="Jason Ryan">

  
  <meta name="description" content="Apart from a brief, but nevertheless instructive, flirtation with
Emacs1 I have
been a consistent Vim user over the last three
or four years. Like &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://jasonwryan.com/blog/11/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="jasonwryan.com" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="/javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!-- OpenId login -->
<link rel="openid2.provider" href="https://openid.stackexchange.com/openid/provider">
<link rel="openid2.local_id" href="https://openid.stackexchange.com/user/e970c157-315b-49b2-8b30-1d8a64215d0f">

<!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-907012-2']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">jasonwryan.com</a></h1>
  
    <h2>Miscellaneous ephemera…</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://www.duckduckgo.com/" method="get">
  <fieldset role="search">
    <input type="hidden" name="sitesearch" value="jasonwryan.com">
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Home</a></li>
  <li><a href="/blog/archives">Archives</a></li>
  <li><a href="/contact.html">Contact</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/03/29/vim/">Building Vim</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2013-03-29T10:17:00+13:00'><span class='date'><span class='date-month'>Mar</span> <span class='date-day'>29</span><span class='date-suffix'>th</span>, <span class='date-year'>2013</span></span> <span class='time'>10:17 am</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><img class="left" src="/images/post_images/vim-logo.png" title="'Vim logo'" >
Apart from a brief, but nevertheless instructive, flirtation with
<a href="http://www.gnu.org/software/emacs/" title="Emacs homepage">Emacs</a><sup>1</sup> I have
been a consistent <a href="http://www.vim.org/" title="Vim home">Vim</a> user over the last three
or four years. Like most Vim users, I have made some progress over that time
in spite of Vim&rsquo;s
<a href="http://stackoverflow.com/a/1815372/712613" title="SO answer on Vim">notorious learning curve</a>
and have now reached the point where, belatedly, I think I understand it just enough
to really grasp how little I actually know. It&rsquo;s a milestone that speaks more to
necessity than gratification, granted.</p>

<p>In any event, as part of confronting my Vim shortcomings (no
<a href="http://www.vimgolf.com/" title="Vim golf…">golfing</a> for me), I have been able
to land on the features of Vim that I require to be enabled so that I am moderately
productive (in my own, admittedly cloistered, working environment). That, you will
probably not be surprised to read, does not include needing support for Arabic or
Farsi to be built into Vim.</p>

<p>Part of the beauty of Vim is that, unlike it&rsquo;s
<a href="http://en.wikipedia.org/wiki/Editor_war#Humor" title="…lacking a decent editor">operating system counterpart Emacs</a>,
you can choose how much functionality you wish to enable at compile-time. You do want
support for Farsi? Then the <code>--with-features=big</code> option is what you are looking for.
If, on the other hand, you just want the barest of bones, editor-wise, you could opt
for the austere minimalism that is <code>--with-features=tiny</code> and find yourself happily
transported back in time to
<a href="https://en.wikipedia.org/wiki/Vi" title="Wikipedia page on Vi">Bill Joy&rsquo;s lab in 1976</a>.</p>

<p>You can peruse all of the various features available to Vim using the <code>:help version</code>
command.<sup>2</sup> There is also
<a href="http://www.drchip.org/astronaut/vim/vimfeat.html" title="Vim's versions and features">this table</a>
where the various features are listed against the respective feature flags (tiny, small,
normal, big &amp; huge).</p>

<p>After this
<a href="https://bugs.archlinux.org/task/33019" title="Add +profile to gvim on Flyspray">bug report</a>
late last year, the default Arch PKGBUILD ships with <code>huge</code> as the feature set. Make
what you will of that, but for my purposes it is overkill. With all the magic of
<a href="https://wiki.archlinux.org/index.php/Abs" title="Arch Wiki page on ABS">ABS</a> and
<code>makepkg</code>, however, it is simple enough to build a Vim package that is tailored
to exactly your requirements. For me, that means this set of simplified <code>configure</code>
options:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>  ./configure <span class="se">\</span>
</span><span class='line'>    --prefix<span class="o">=</span>/usr <span class="se">\</span>
</span><span class='line'>    --localstatedir<span class="o">=</span>/var/lib/vim <span class="se">\</span>
</span><span class='line'>    --with-features<span class="o">=</span>normal <span class="se">\</span>
</span><span class='line'>    --with-compiledby<span class="o">=</span>Arch:jwr <span class="se">\</span>
</span><span class='line'>    --with-x<span class="o">=</span>yes <span class="se">\</span>
</span><span class='line'>    --enable-acl <span class="se">\</span>
</span><span class='line'>    --disable-gui <span class="se">\</span>
</span><span class='line'>    --disable-signs <span class="se">\</span>
</span><span class='line'>    --disable-netbeans <span class="se">\</span>
</span><span class='line'>    --enable-multibyte
</span></code></pre></td></tr></table></div></figure>


<p>With these options, I have the minimum amount of functionality I comfortably
require (including the ability to access the system clipboard, <code>--with-x=yes</code>)
but without the other bloat.</p>

<p>In addition to these changes to the config options, I also strip out all of the
<code>gvim</code>-related stuff from the PKGBUILD as I do not require it. Even though it
is a split package, just building <code>vim</code> still includes options superfluous to
my needs.  As a result, I get Vim with just the features I need, without the
dependencies of <code>ruby</code> and <code>lua</code> and god knows what else.</p>

<p>I&rsquo;m not operating under any illusions about the fact that this is
really saving a huge amount of space or, for that matter, drastically reducing the
number of dependencies I have installed. It is partly about understanding how Vim
works at another level while also catering for the obsessive-compulsive drive to
micro-control what is and isn&rsquo;t installed on my systems. If you want to scratch either
of the same itches, you can see the full
<a href="https://bitbucket.org/jasonwryan/shiv/src/tip/Build/vim/PKGBUILD" title="Eviscerated Vim PKGBUILD">PKGBUILD in Bitbucket</a>.</p>

<h4>Notes</h4>

<ol>
<li>Still visible in some of my early Arch screenshots
<a href="http://www.flickr.com/photos/jasonwryan/3748882572/in/photostream" title="Emacs in Openbox">on Flickr</a>…</li>
<li>The official documentation for the features is also
<a href="http://vimdoc.sourceforge.net/htmldoc/various.html#+feature-list" title="Vim Feature list">online</a>.</li>
</ol>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/03/16/sync/">BitTorrent Sync Alpha</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2013-03-16T10:17:00+13:00'><span class='date'><span class='date-month'>Mar</span> <span class='date-day'>16</span><span class='date-suffix'>th</span>, <span class='date-year'>2013</span></span> <span class='time'>10:17 am</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><img class="left" src="/images/post_images/syncapp.png" title="BitTorrent Sync logo" >
I have posted about using <a href="http://dropbox.com" title="dropbox homepage">dropbox</a> quite
<a href="https://duckduckgo.com/?sites=jasonwryan.com&amp;q=dropbox" title="DDG search results">a few times</a>
over the last couple of years; it is one of those utilities that quickly insinuates itself
into an indispensable niche in your workflow and, consequently, can be <em>very</em> difficult to
dislodge. Perhaps because it has started to glue together so much of the way I work, I have
been wondering when I would find a replacement that would deliver all, or much, of the
functionality, without the standard
<a href="http://arstechnica.com/security/2012/07/dropbox-confirms-it-got-hacked-will-offer-two-factor-authentication/" title="Ars post on the dropbox hack">cloud security issues</a>,
that seem to bedevil these services.<sup>1</sup></p>

<p>When I saw that BitTorrent had release a distributed synching app called—appropriately—
<a href="http://blog.bittorrent.com/2013/01/24/test-bittorrent-sync-pre-alpha/" title="Blog post on sync release">Sync</a>,
I <a href="http://labs.bittorrent.com/experiments/sync.html" title="Invitation form">signed up for the Alpha</a> and
have been running it in lieu of dropbox for the past three weeks. My initial reaction is,
that for a first release, it is very impressive.</p>

<p>Essentially, Sync uses the
<a href="https://en.wikipedia.org/wiki/Bittorent" title="Wikipedia entry">bittorrent peer-to-peer protocol</a>
and encryption
(<a href="https://en.wikipedia.org/wiki/Aes_256" title="Wikipedia entry on the standard">AES 256</a>
using a private key based on the secret generated for each shared folder)
to sync files between your machines—or anyone with whom you share the secret
for a particular directory. This has several advantages over dropbox, from my perspective.
First and foremost, you are not relying on some third party for security<sup>2</sup>, storage
and uptime. Secondly, all of the traffic between your devices is encrypted. And finally,
it is free (sadly, only as in beer).</p>

<h3>Positives</h3>

<p>So what does it do well? It is ridiculously easy to setup. You download the binary, start
the app and then (on Linux) use the web interface to setup your first synching folder by
generating a secret and then nominating a folder to share. On your next machine, enter the
secret and select or create the shared folder and your files will be synched. Done.</p>

<p>On a headless machine, there is a config file that you can create:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>syncapp --dump-sample-config &gt; syncapp.conf
</span></code></pre></td></tr></table></div></figure>


<p>Edit it to suit your requirements, and then start <code>syncapp</code> with that configuration:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>syncapp --config /path/to/syncapp.conf
</span></code></pre></td></tr></table></div></figure>


<p>and you are away, happily synching.</p>

<p>Like other applications that use the bittorrent protocol, it can take a minute or
two for the synching to begin, but once it does I found it—over the Internet as well
as my <acronym title="Local Area Network">LAN</acronym> to be much faster than
dropbox. Another plus.</p>

<h3>Areas for improvement</h3>

<p>It is Alpha software so there are some areas where you can expect to see improvements
with subsequent release. For me, that includes:</p>

<ul>
<li>Better command line tools; the current limited set are servicable, but could do
with more flexibility and options</li>
<li>The ability to create your own secret, rather than rely on generated ones</li>
<li>A less fragile config file; it is written in JSON and the simplest errors will
break it</li>
<li>More Linux love; the other platforms have a much more sophisticated <acronym title="User Interface">UI</acronym></li>
</ul>


<p>A comparison with dropbox is not entirely fair; there are some things that dropbox
does—like versioning—that Sync can/will not do. Dropbox also allows you to host
public files and folders, meaning that you can
<a href="http://jasonwryan.com/blog/2010/01/11/using-dropbox-to-share-dotfiles/" title="Post on using dropbox to host dotfiles">setup a basic webpage</a>
or <a href="https://www.dropbox.com/sh/t6ko1rbl9edy8p4/OkwVLtY5fO" title="My Top 10 Albums">share a photo album</a>.
Sync clearly isn&rsquo;t designed for this.</p>

<p>However, in some other respects, like architectures
for example, Sync is already a better choice. The ARMv6 port means that I am able
to run it on my Raspberry Pi, and that I have been able to update my
<a href="http://jasonwryan.com/blog/2011/11/07/irc-dzen/" title="Post on IRC highlights">IRC notification system</a>
to use Sync rather than dropbox and it is working perfectly well.</p>

<p>There is one area, though, where I wish the BitTorrent team would be a lot more
forthcoming. There has been an unanswered question on the Sync forums for
over three weeks now asking
<a href="http://forum.bittorrent.com/topic/8816-will-syncapp-be-open-source/" title="Syncapp Forums">will Syncapp be open sourced?</a>
Aside from the issue of whether or not the source will be made available (and I am guessing
that given their reticence to answer the question on their boards the prognosis
is not promising) people using the application now should know under what terms
they are using it.</p>

<p>In the absence of any definitive licensing, I can only assume that the application
is covered by BitTorrent&rsquo;s
<a href="http://www.bittorrent.com/legal/eula" title="Licensing agreement on BitTorrent site">default EULA</a>.
That ambiguity means that I am happy to participate in the
trial and provide feedback, but I won&rsquo;t be using the app for any remotely
sensitive data and I am unlikely to do so until that issue is clarified.</p>

<p>I&rsquo;ll install <a href="http://sparkleshare.org/" title="Sparkleshare site">Sparkleshare</a>
and give that a shot instead…</p>

<h4>Notes</h4>

<ol>
<li>Naturally, there are more issues at play here than just their (in)security policies.</li>
<li>Assuming, of course, you trust what BitTorrent pack into the binary…</li>
</ol>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/03/02/forking/">Forking Arch</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2013-03-02T10:04:00+13:00'><span class='date'><span class='date-month'>Mar</span> <span class='date-day'>2</span><span class='date-suffix'>nd</span>, <span class='date-year'>2013</span></span> <span class='time'>10:04 am</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><img class="left" src="/images/post_images/fork.jpg" title="'Fork on Flickr'" >
Over the last couple of months there have been a number of discussions on the Arch boards
about the
<a href="https://wiki.archlinux.org/index.php/Forum_Etiquette#Arch_Linux_Distribution_Support_ONLY" title="Forum Etiquette">forum policy</a>
of only providing support for Arch Linux, culminating in this
<a href="https://bbs.archlinux.org/viewtopic.php?id=157361" title="Arch Forum thread">long thread about Archbang users</a>
(login required) being denied support and having their threads summarily
closed. As it emerged in the discussion, there seem to be two separate issues
at play here; the question of Arch-derivatives using the Arch brand (logo,
colours and even the forum style sheets), and how the wider community of
GNU/Linux distributions are treated on our boards.</p>

<p>The first issue is relatively simple to address. Allowing derivative
distributions to use the Arch brand is, in my view, a mistake. It dilutes the
value of the Arch “brand” and—as can be seen when people show up having
installed a derivative and thinking they are running Arch—just confuses people.</p>

<p>For some of these derivatives, like Archbang, there is an argument to be made
that once they have completed the installation process, they are in fact
running Arch, albeit an off-the-shelf version. I find this argument to be
specious. All of the derivatives that I have come across, in addition to
“simplifying”<sup>1</sup> the installation process and including <code>X</code> and some
sort of desktop or window manager by default, also make a number of other
system changes that invalidate their claim to being Arch by another name.</p>

<p>See this <a href="http://www.reddit.com/r/archlinux/comments/yj2v5/a_new_guibased_version_of_arch_has_gone_live/c5wc6yo" title="Reddit thread on Manjaro Linux">scathing review of Manjaro</a>
or Allan&rsquo;s <a href="http://allanmcrae.com/2012/12/battle-of-the-arch-spin-offs/" title="Allan McRae's blog">roundup of the Arch Spin-Offs</a>
for the details on the decisions these developers make that mean it is not
practicable to support them on the Arch boards, nor desirable to do so in
future. As a distro, Arch is essentially vanilla packages, pacman and rolling
release, and a base on which
<a href="https://wiki.archlinux.org/index.php/The_Arch_Way#User-centric" title="The Arch Way">you build your preferred system</a>.
Changing two of those three means that you are not running Arch…</p>

<p>That leads in to the second point, which is I&rsquo;ll paraphrase as “well, we are
all Linux users, so everyone should be welcome to ask for support from Arch
users.” It is a fine sentiment, but one that is neither
<a href="http://www.catb.org/esr/faqs/smart-questions.html#forum" title="ESR's seminal document">historically accurate</a>,
nor in the long term interests of Arch. I have harped on in the past about
<a href="http://jasonwryan.com/blog/2012/03/17/vampires/" title="My post on the taxonomy of suckers…">help vampires</a>
and last year I came across the perfect illustration of the unchecked effects
of this phenomena:</p>

<blockquote><p>Right now I'd say the bug queues are flooded with bugs that you can't really act on… It's a strain on the project that there are so many users that don't really get it.</p><footer><strong>Alison Randall</strong> <cite>Ubuntu Technical Architect. Linux Format July 2012</cite></footer></blockquote>


<p>Your bugtracker becomes essentially unusable. Your forums end up the same way.
No-one ends up getting much in the way of assistance at all, let alone anything
approaching informed help. That may be an inevitable consequence of the
collision between considerable but still finite resources and a philosophy of being
the <acronym title="Operating System">OS</acronym> of the masses; Arch has
nothing like that in terms of resources, and a very different
<a href="https://wiki.archlinux.org/index.php/The_Arch_Way" title="The Arch Way, again…">philosophy</a>.</p>

<p>That philosophy doesn&rsquo;t include anything about shortcuts or commoditized images
for a mass user base. It doesn&rsquo;t mention making the installation and
maintenance of your system completely idiot-proof so as to facilitate a
relentless march to the very top of whatever spurious distro popularity ranking
system you subscribe to. And it certainly doesn&rsquo;t say anything about your
entitlement to immediate and courteous support from the Arch community in the
face of your own inability to reach a minimum level of understanding of what it
is that you have installed on your hard drive.</p>

<p>If you think that you can just skip the whole tiresome
<a href="http://jasonwryan.com/blog/2013/02/08/documentation/" title="Post on documentation">RTFM thing</a>
by downloading a derivative and installing that, how exactly do you expect to be able
to run a rolling release distro that has, on average, a couple of
<a href="https://www.archlinux.org/news/" title="Arch news">significant changes</a> every year?</p>

<p>Sooner or later you are going to have to come to terms with <em>the responsibility</em>
that is an integral part of this type of rolling release and, if you have
installed it yourself, you will be much better placed to be able to build on
that understanding and broaden and deepen your knowledge of your system.</p>

<p>That is ultimately far more satisfying for you, and much more beneficial for
the rest of the community as it means that you will be more able and likely to
contribute back in whatever way that you can; reporting bugs to a functioning
bug tracker, editing the <a href="https://wiki.archlinux.org" title="The finest, actually">fine Wiki</a>,
maintaining packages in <a href="https://aur.archlinux.org" title="Arch User Repository">the AUR</a>,
submitting patches, etc.  Doing all the things that will
sustain Arch and continue to make it an attractive distribution for competent
GNU/Linux users and those that are willing to invest the time to become so.</p>

<h4>Notes</h4>

<ol>
<li>If you have used the Arch install scripts, you would appreciate that it is
not really possible to provide a simpler installation process.</li>
</ol>


<p>Creative Commons licensed image on Flickr by <a href="http://www.flickr.com/photos/pietroizzo/3514191996/">pietroizzo</a></p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/blog/12">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/blog/10">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2015/01/19/overlayfs/">Playing with overlayfs</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/10/25/snapclean/">Pruning Tarsnap Archives</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/09/20/multiarch/">Multi-arch Packages in AUR</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/09/06/reminder/">Simple Reminders</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/08/23/asp/">Building from Source</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>Pinboard</h1>
  <ul id="pinboard_linkroll">Fetching linkroll...</ul>
  <p><a href="http://pinboard.in/u:jasonwryan">My Pinboard Bookmarks &raquo;</a></p>
</section>
<script type="text/javascript">
  var linkroll = 'pinboard_linkroll'; //id target for pinboard list
  var pinboard_user = "jasonwryan"; //id target for pinboard list
  var pinboard_count = 3; //id target for pinboard list
  (function(){
    var pinboardInit = document.createElement('script');
    pinboardInit.type = 'text/javascript';
    pinboardInit.async = true;
    pinboardInit.src = '/javascripts/pinboard.js';
    document.getElementsByTagName('head')[0].appendChild(pinboardInit);
  })();
</script>


<section class="librefm">
<h1>Recently Scrobbled</h1>
<style type="text/css">
  #librefmList li{ text-align: left; }
</style>
<ul id="librefmList">
  <li class="loading">Updating tracks...</li>
</ul>
<p><a href="http://alpha.libre.fm/user/jasonwryan">My tunes on Libre.fm &raquo;</a></p>

<script lang="Javascript">
    /*
     * JavaScript Pretty Date
     * Copyright (c) 2011 John Resig (ejohn.org)
     * Licensed under the MIT and GPL licenses.
     */

    // Takes an ISO time and returns a string representing how
    // long ago the date represents.
    function prettyDate(time){
        diff = ((new Date()).getTime()/1000 - time),
        day_diff = Math.floor(diff / 86400);

      if ( isNaN(day_diff) || day_diff < 0 || day_diff >= 31 )
        return;

      return day_diff == 0 && (
          diff < 60 && "just now" ||
          diff < 120 && "1 minute" ||
          diff < 3600 && Math.floor( diff / 60 ) + " minutes" ||
          diff < 7200 && "1 hour" ||
          diff < 86400 && Math.floor( diff / 3600 ) + " hours") ||
        day_diff == 1 && "Yesterday" ||
        day_diff < 7 && day_diff + " days" ||
        day_diff < 31 && Math.ceil( day_diff / 7 ) + " weeks";
    }
</script>
<script lang="Javascript">
    function showLibrefmFeed(json){
        if(json.recenttracks == 'undefined'){
            return
        }

        var tracklist = document.getElementById('librefmList'),
            content = '';

        $.each(json.recenttracks.track, function(i, track){
            var interval = prettyDate(track.date['uts']);
            content += '<li id="librefmItem_'+i+'"> + track.name +' by '+ track.artist['#text'] + '<span class="date"> ' + interval  + ( interval == 'just now' ? '' :' ago') + '</span></li>';
        });

        tracklist.innerHTML = content;
    }
</script>
<script lang="Javascript" src="https://libre.fm/2.0/?method=user.getrecenttracks&user=jasonwryan&page=1&limit=5&format=json"></script>
</section>

<section>
<p class="arch"><a href="http://unix.stackexchange.com/users/6761/jasonwryan">
<img src="http://unix.stackexchange.com/users/flair/6761.png" border="0" width="208" height="58" alt="profile for jasonwryan at Unix and Linux, Q&amp;A for users of Linux, FreeBSD and other Un*x-like operating systems." title="profile for jasonwryan at Unix and Linux, Q&amp;A for users of Linux, FreeBSD and other Un*x-like operating systems.">
</a></p>
</section>
<section>
<p class="arch"><a href="https://archlinux.org/" title="Arch Linux"><img src="/images/running-on-arch.png" /></a></p>
</section>

  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
All content licensed under <a href="http://creativecommons.org/licenses/by/2.5/" title="Creative Commons by Attribution">Creative Commons</a> 2016 - Jason Ryan    
<span class="credit">This site is powered by <a href="http://vim.org">Vim</a>, <a href="http://octopress.org">Octopress</a> and <a href="http://github.com">Github</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'jasonwryan';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>











</body>
</html>
